# AKS Metrics

## Compute Metrics

| Metric Name                                          | Metric Type | Description                                                            | Labels                                                                                                                                                                                                                                                                                                                                                                                                          |
|------------------------------------------------------|-------------|------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| cloudcost_azure_aks_instance_total_usd_per_hour      | Gauge       | The total cost of an Azure VM used in an AKS cluster in USD/h          | `cluster_name` = &lt;name of the cluster the instance is associated with&gt; <br/>`instance`=&lt;name of the compute instance&gt;<br/>`region`=&lt;Azure region of the compute instance&gt;<br/>`family`=&lt;broader compute family (General Purpose, Compute Optimized, Memory Optimized, ...) &gt;<br/>`machine_type`=&lt;specific machine type, e.g.: Standard_D4s_v3&gt;<br/>`price_tier`=&lt;spot\|ondemand&gt;<br/>`operating_system`=&lt;Windows\|Linux&gt; |
| cloudcost_azure_aks_instance_cpu_usd_per_core_hour   | Gauge       | The compute cost of an Azure VM used in an AKS cluster in USD/(core*h) | `cluster_name`=&lt;name of the cluster the instance is associated with&gt;<br/>`instance`=&lt;name of the compute instance&gt;<br/>`region`=&lt;Azure region of the compute instance&gt;<br/>`family`=&lt;broader compute family (General Purpose, Compute Optimized, Memory Optimized, ...) &gt;<br/>`machine_type`=&lt;specific machine type, e.g.: Standard_D4s_v3&gt;<br/>`price_tier`=&lt;spot\|ondemand&gt;<br/>`operating_system`=&lt;Windows\|Linux&gt; |
| cloudcost_azure_aks_instance_memory_usd_per_gib_hour | Gauge       | The memory cost of an Azure VM used in an AKS cluster in USD/(GiB*h)   | `cluster_name`=&lt;name of the cluster the instance is associated with&gt;<br/>`instance`=&lt;name of the compute instance&gt;<br/>`region`=&lt;Azure region of the compute instance&gt;<br/>`family`=&lt;broader compute family (General Purpose, Compute Optimized, Memory Optimized, ...) &gt;<br/>`machine_type`=&lt;specific machine type, e.g.: Standard_D4s_v3&gt;<br/>`price_tier`=&lt;spot\|ondemand&gt;<br/>`operating_system`=&lt;Windows\|Linux&gt; |

## Storage Metrics (Persistent Volumes)

| Metric Name                                                        | Metric Type | Description                                                                     | Labels                                                                                                                                                                                                                                                                                                                                                                                   |
|--------------------------------------------------------------------|-------------|---------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| cloudcost_azure_aks_storage_by_location_usd_per_gibyte_hour        | Gauge       | The cost of an Azure Managed Disk in USD per GiByte per hour                   | `persistentvolume`=&lt;name of the persistent volume or disk name if not a PV&gt;<br/>`region`=&lt;Azure region of the disk&gt;<br/>`availability_zone`=&lt;availability zone of the disk&gt;<br/>`disk`=&lt;Azure disk name&gt;<br/>`sku`=&lt;Azure disk SKU, e.g.: Premium_LRS, StandardSSD_LRS&gt;<br/>`price_tier`=&lt;pricing tier, e.g.: P15, E10, S4&gt;<br/>`size_gib`=&lt;disk size in GiB&gt;<br/>`state`=&lt;disk state: Attached, Unattached&gt;<br/>`cluster_name`=&lt;AKS cluster name (if applicable)&gt;<br/>`namespace`=&lt;Kubernetes namespace (if applicable)&gt; |
| cloudcost_azure_aks_storage_by_location_total_usd_per_hour         | Gauge       | The total cost of an Azure Managed Disk in USD per hour                        | `persistentvolume`=&lt;name of the persistent volume or disk name if not a PV&gt;<br/>`region`=&lt;Azure region of the disk&gt;<br/>`availability_zone`=&lt;availability zone of the disk&gt;<br/>`disk`=&lt;Azure disk name&gt;<br/>`sku`=&lt;Azure disk SKU, e.g.: Premium_LRS, StandardSSD_LRS&gt;<br/>`price_tier`=&lt;pricing tier, e.g.: P15, E10, S4&gt;<br/>`size_gib`=&lt;disk size in GiB&gt;<br/>`state`=&lt;disk state: Attached, Unattached&gt;<br/>`cluster_name`=&lt;AKS cluster name (if applicable)&gt;<br/>`namespace`=&lt;Kubernetes namespace (if applicable)&gt; |

## Notes

### Storage Metrics
- **Dual metrics pattern**: Provides both per-GiB-hour and total hourly cost metrics
- **Per-GiB-hour metric**: Use this with volume size from kube-state-metrics to calculate costs based on actual volume size
- **Total hourly metric**: Shows the full cost of the Azure Managed Disk regardless of the requested volume size (Azure has fixed disk sizes)
- **All disks included**: Metrics include all Azure Managed Disks, not just Kubernetes persistent volumes
- **Kubernetes metadata**: When available, includes cluster name and namespace from Azure resource tags
- **Pricing tiers**: Azure disk pricing follows tier-based model (P4=32GB, P6=64GB, P10=128GB, P15=256GB, etc.)
